# AgentLink

Agent-to-Agent Communication Infrastructure

## ğŸ¯ MVPç›®æ ‡

ä¸¤ä¸ªäººç±»ï¼ˆå„æœ‰ETHé’±åŒ…ï¼‰ï¼Œä¸¤ä¸ªæœ¬åœ°Agentï¼Œé€šè¿‡Zeabur Relayå®‰å…¨å¯¹è¯ã€‚

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ZEABUR RELAY SERVER                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  WebSocket Gateway (FastAPI)                    â”‚  â”‚
â”‚  â”‚  - Agentè®¤è¯ï¼ˆEIP-712ç­¾åæŒ‘æˆ˜ï¼‰                  â”‚  â”‚
â”‚  â”‚  - æ¶ˆæ¯è·¯ç”±ï¼ˆåŸºäºAgentIDæŸ¥æ‰¾è¿æ¥ï¼‰                â”‚  â”‚
â”‚  â”‚  - ç¦»çº¿é˜Ÿåˆ—ï¼ˆRedis Pub/Subï¼‰                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Identity Service (PostgreSQL)                  â”‚  â”‚
â”‚  â”‚  - Agentæ³¨å†Œ                                    â”‚  â”‚
â”‚  â”‚  - AgentCardå­˜å‚¨                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                                    â–²
         â”‚                                    â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚  Local      â”‚                    â”‚  Local      â”‚
    â”‚  Agent A    â”‚                    â”‚  Agent B    â”‚
    â”‚  (Your PC)  â”‚                    â”‚  (Colleague)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    - ETHé’±åŒ…ç­¾å                        - ETHé’±åŒ…ç­¾å
    - E2EåŠ å¯†ï¼ˆX25519ï¼‰                   - E2EåŠ å¯†ï¼ˆX25519ï¼‰
    - LLMé›†æˆï¼ˆClaudeï¼‰                   - LLMé›†æˆ
```

## ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰

### âœ… å¿…é¡»å®ç°

- **Agentæ³¨å†Œ**ï¼šé€šè¿‡ETHç­¾åæ³¨å†Œï¼Œç”Ÿæˆå”¯ä¸€AgentID
- **WebSocketè¿æ¥**ï¼šAgentè¿æ¥åˆ°Relayï¼ŒEIP-712è®¤è¯
- **E2EåŠ å¯†æ¶ˆæ¯**ï¼šX25519å¯†é’¥äº¤æ¢ï¼Œæ¯æ¡æ¶ˆæ¯åŠ å¯†
- **æ¶ˆæ¯ç­¾å**ï¼šæ¯æ¡æ¶ˆæ¯ç”¨EIP-712ç­¾å
- **æ¶ˆæ¯è·¯ç”±**ï¼šæ ¹æ®ç›®æ ‡AgentIDæŸ¥æ‰¾è¿æ¥ï¼Œè½¬å‘æ¶ˆæ¯
- **ç¦»çº¿é˜Ÿåˆ—**ï¼šAgentç¦»çº¿æ—¶æš‚å­˜æ¶ˆæ¯
- **æœ¬åœ°Agentè¿è¡Œæ—¶**ï¼šPython SDKï¼Œè¿æ¥LLMï¼Œå¤„ç†æ¶ˆæ¯

### â¸ï¸ å¯å»¶è¿Ÿï¼ˆPhase 2ï¼‰

- ERC-8004é“¾ä¸Šæ³¨å†Œ
- x402æ”¯ä»˜
- å£°èª‰ç³»ç»Ÿ
- å¤æ‚æƒé™ç­–ç•¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. éƒ¨ç½²Relay Serveråˆ°Zeabur

```bash
# ä»£ç å·²æ¨é€åˆ°GitHub
# åœ¨Zeaburåˆ›å»ºæ–°é¡¹ç›®ï¼Œè¿æ¥æ­¤ä»“åº“
# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè§zeabur.yamlï¼‰
# ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²
```

### 2. å®‰è£…Local Agent SDK

```bash
pip install -e .
```

### 3. æ³¨å†ŒAgent

```python
from agent import AgentNode

agent = AgentNode(
    owner_address="0x7a3b...",
    wallet_rpc_url="http://localhost:8545",  # MetaMaskæœ¬åœ°RPC
    relay_url="wss://agentlink.zeabur.app/ws"
)

agent.register(
    agent_name="Kimi's Assistant",
    capabilities=["chat", "calendar"]
)
```

### 4. å¯åŠ¨Agentå¹¶å¯¹è¯

```python
# Agent A
agent_a = AgentNode(...)
agent_a.connect()

# Agent B
agent_b = AgentNode(...)
agent_b.connect()

# å‘é€æ¶ˆæ¯
agent_a.send(
    to="agent://2",  # Agent Bçš„ID
    content="ä½ å¥½ï¼Œèƒ½å¸®æˆ‘æŸ¥ä¸€ä¸‹æ˜å¤©çš„å¤©æ°”å—ï¼Ÿ"
)
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
AgentLink/
â”œâ”€â”€ zeabur.yaml                    # Zeaburéƒ¨ç½²é…ç½®
â”œâ”€â”€ requirements.txt               # Pythonä¾èµ–
â”‚
â”œâ”€â”€ server/                        # Zeabur Relay Server
â”‚   â”œâ”€â”€ main.py                    # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ models.py                  # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.py                # EIP-712è®¤è¯
â”‚   â”‚   â”œâ”€â”€ register.py            # Agentæ³¨å†Œ
â”‚   â”‚   â””â”€â”€ agent_card.py          # AgentCardæŸ¥è¯¢
â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â”œâ”€â”€ manager.py             # WebSocketè¿æ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router.py              # æ¶ˆæ¯è·¯ç”±
â”‚   â”‚   â””â”€â”€ queue.py               # ç¦»çº¿é˜Ÿåˆ—
â”‚   â”œâ”€â”€ crypto/
â”‚   â”‚   â””â”€â”€ verifier.py            # EIP-712éªŒè¯
â”‚   â””â”€â”€ config.py                  # ç¯å¢ƒå˜é‡é…ç½®
â”‚
â”œâ”€â”€ agent/                         # Local Agent SDK
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent.py                   # AgentNodeä¸»ç±»
â”‚   â”œâ”€â”€ crypto/
â”‚   â”‚   â”œâ”€â”€ eip712.py              # EIP-712ç­¾å/éªŒè¯
â”‚   â”‚   â””â”€â”€ encryption.py          # X25519 E2EåŠ å¯†
â”‚   â”œâ”€â”€ relay/
â”‚   â”‚   â””â”€â”€ client.py              # WebSocketå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”œâ”€â”€ claude.py              # Claudeå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ base.py                # LLMæŠ½è±¡åŸºç±»
â”‚   â”œâ”€â”€ policy/
â”‚   â”‚   â””â”€â”€ engine.py              # æƒé™ç­–ç•¥å¼•æ“
â”‚   â””â”€â”€ models.py                  # æ¶ˆæ¯/AgentCardæ•°æ®æ¨¡å‹
â”‚
â”œâ”€â”€ examples/                      # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ local_agent_demo.py        # æœ¬åœ°Agentæ¼”ç¤º
â”‚   â”œâ”€â”€ register_agent.py          # æ³¨å†Œè„šæœ¬
â”‚   â””â”€â”€ test_messaging.py          # æ¶ˆæ¯æµ‹è¯•
â”‚
â””â”€â”€ tests/                         # å•å…ƒæµ‹è¯•
```

## ğŸ“¦ ä¾èµ–

### Relay Server

- Python 3.11+
- FastAPI
- SQLAlchemy
- psycopg2-binary
- redis
- python-jose[cryptography]
- python-multipart

### Local Agent

- Python 3.11+
- web3
- eth-account
- pynacl
- anthropic
- websockets

## ğŸ“Š æˆæœ¬ä¼°ç®—ï¼ˆZeaburï¼‰

| é¡¹ç›® | é¢„ä¼° |
|------|------|
| PostgreSQL | $0-10/æœˆ |
| Redis | $0-10/æœˆ |
| Compute | $0-15/æœˆ |
| æ€»è®¡ | $0-50/æœˆ |

## ğŸ“ è®¸å¯è¯

MIT License
